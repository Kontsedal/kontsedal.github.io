!function(){"use strict";function t(t){var t=t||{};this.dataHighlightAttr=t.highlightAttr||"data-hihglight",this.defaultActiveClass=t.defaultActiveClass||"active",this.activeClassAttr=t.activeClassAttr||"data-activeClass",this.addToTopAttr=t.addToTopAttr||"data-addToTop",this.addToBottomAttr=t.addToBottomAttr||"data-addToBottom",this.positionArr=[],this.init()}t.prototype.calculatePositions=function(){this.items=Array.prototype.slice.call(document.querySelectorAll("["+this.dataHighlightAttr+"]")),this.toHighlight=[],this.items.forEach(function(t){var i=t.getAttribute(this.dataHighlightAttr).split("|");i.forEach(function(i,s){var e=document.querySelectorAll(i),h={highlightTarget:e,highlightMenu:t,activeClassIndex:s};this.toHighlight.push(h)}.bind(this))}.bind(this)),this.toHighlight=this.toHighlight.filter(function(t){return t.highlightTarget.length>0});for(var t=0;t<this.toHighlight.length;t++)for(var i=0;i<this.toHighlight[t].highlightTarget.length;i++){var s=this.toHighlight[t].highlightTarget[i],e=this.helpers.getOffset(s),h={},o=this.toHighlight[t].highlightMenu,l=this.toHighlight[t].activeClassIndex,a=o.getAttribute(this.activeClassAttr)?o.getAttribute(this.activeClassAttr).split("|")[l]:this.defaultActiveClass,r=o.getAttribute(this.addToTopAttr),n=r?+r.split("|")[l]:0,c=o.getAttribute(this.addToBottomAttr),g=c?+c.split("|")[l]:0;a&&(h[e.top+n+":"+(e.top+s.offsetHeight+g)]={elem:s,menuItem:this.toHighlight[t].highlightMenu,activeClass:a},this.positionArr.push(h))}},t.prototype.init=function(){return this.calculatePositions(),window.addEventListener("scroll",this.highlightCurrentScroll.bind(this)),this.highlightCurrentScroll(),this},t.prototype.highlightCurrentScroll=function(){var t=window.pageYOffset||document.documentElement.scrollTop;this.positionArr.forEach(function(i){var s=Object.keys(i)[0];if(i[s].active){var e=s.split(":"),h=i[s].activeClass.split(",");(t>+e[1]||t<+e[0])&&(h.forEach(function(t){this.helpers.removeClass(i[s].menuItem,t.trim())}.bind(this)),i[s].active=!1)}}.bind(this)),this.positionArr.forEach(function(i){var s=Object.keys(i)[0],e=s.split(":"),h=i[s].activeClass.split(",");t>=+e[0]&&t<=+e[1]&&(h.forEach(function(t){this.helpers.addClass(i[s].menuItem,t.trim())}.bind(this)),i[s].active=!0)}.bind(this))},t.prototype.reload=function(){return this.calculatePositions(),this.highlightCurrentScroll(),this},t.prototype.helpers={getOffset:function(t){var i=t.getBoundingClientRect(),s=document.body,e=document.documentElement,h=window.pageYOffset||e.scrollTop||s.scrollTop,o=window.pageXOffset||e.scrollLeft||s.scrollLeft,l=e.clientTop||s.clientTop||0,a=e.clientLeft||s.clientLeft||0,r=i.top+h-l,n=i.left+o-a;return{top:Math.round(r),left:Math.round(n)}},removeClass:function(t,i){if(t.classList)t.classList.remove(i);else if(hasClass(t,i)){var s=new RegExp("(\\s|^)"+i+"(\\s|$)");t.className=t.className.replace(s," ")}},hasClass:function(t,i){return t.classList?t.classList.contains(i):!!t.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)"))},addClass:function(t,i){t.classList?t.classList.add(i):hasClass(t,i)||(t.className+=" "+i)}};var i="undefined"==typeof exports?window:exports;i.ScrollHighlighter=t}();